# MODULE 10.2: REACT FRONTEND + BLOCKCHAIN BACKEND (ICP CANISTERS)


#### 1. React + Internet Computer Integration

Goal:
Build a **full-stack dApp** where:

* Frontend = React
* Backend = Canister (smart contract running on ICP)

**Tooling:**

* `dfx` (DFINITY CLI)
* **Motoko** (for backend logic)
* **React** (as frontend framework)
* **Candid** (IDL to test and connect frontend ↔ canister)

Project scaffold (generated by `dfx`):

```
project/
├── src/
│   ├── frontend/      → React frontend code
│   └── backend/       → Motoko actor (canister logic)
├── dfx.json           → project config
└── package.json       → npm scripts
```

---

#### 2. Build a Notes App with Persistent Canister Storage

**Goal:**
Allow users to:

* Create notes
* View them
* Delete them
  (All stored in a smart contract — not a traditional DB)

**Motoko Backend:**

```motoko
actor Notes {
  stable var notes: [Text] = [];

  public func getNotes() : async [Text] {
    return notes;
  };

  public func addNote(note: Text) : async () {
    notes := Array.append(notes, [note]);
  };

  public func deleteNote(index: Nat) : async () {
    notes := Array.filter(notes, func(_, i) { i != index });
  };
};
```

---

#### 3. CRUD Operations from React Frontend

From your React app, use **`@dfinity/agent`** to interact with the canister:

**Install:**

```bash
npm install @dfinity/agent
```

**Sample usage:**

```js
import { Actor, HttpAgent } from "@dfinity/agent";
import { idlFactory, canisterId } from "../../declarations/backend";

const agent = new HttpAgent();
const notesActor = Actor.createActor(idlFactory, {
  agent,
  canisterId
});

// Add note
await notesActor.addNote("New note");

// Get notes
const notes = await notesActor.getNotes();
```

**Display notes in React:**

```jsx
{notes.map((note, i) => <li key={i}>{note}</li>)}
```

---

#### 4. Using the Candid Interface

**Candid UI** is automatically available at:

```
http://localhost:4943/?canisterId=<backend_canister_id>
```

Use it to:

* View the canister's exposed methods
* Manually test CRUD operations
* Debug API errors during development

**Inputs:** must match data types defined in Motoko
(e.g., `Text`, `Nat`, `Array`)

---

### Summary

| Concept              | Tool / Action                                  |
| -------------------- | ---------------------------------------------- |
| React + ICP backend  | Frontend → `@dfinity/agent`, backend = Motoko  |
| CRUD from frontend   | `notesActor.addNote()`, `getNotes()`, etc.     |
| Canister persistence | Data stored directly on-chain via Motoko actor |
| Candid Interface     | Visual UI for canister API testing             |
| Full-stack dApp      | Decentralized: frontend+backend on blockchain  |

<footer>TO BE CONT...</footer>
